<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>SLTerminal Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 840)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">Subliminal </a></h1>
				<a id="developerHome" href="../index.html">Inkling</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">SLTerminal Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/evalQueue">&nbsp;&nbsp;&nbsp;&nbsp;evalQueue</option>
	
	<option value="//api/name/scriptLoggingEnabled">&nbsp;&nbsp;&nbsp;&nbsp;scriptLoggingEnabled</option>
	
	<option value="//api/name/scriptNamespace">&nbsp;&nbsp;&nbsp;&nbsp;scriptNamespace</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/sharedTerminal">&nbsp;&nbsp;&nbsp;&nbsp;+ sharedTerminal</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/currentQueueIsEvalQueue">&nbsp;&nbsp;&nbsp;&nbsp;- currentQueueIsEvalQueue</option>
	
	<option value="//api/name/eval:">&nbsp;&nbsp;&nbsp;&nbsp;- eval:</option>
	
	<option value="//api/name/evalFunctionWithName:params:body:withArgs:">&nbsp;&nbsp;&nbsp;&nbsp;- evalFunctionWithName:params:body:withArgs:</option>
	
	<option value="//api/name/evalFunctionWithName:withArgs:">&nbsp;&nbsp;&nbsp;&nbsp;- evalFunctionWithName:withArgs:</option>
	
	<option value="//api/name/evalWithFormat:">&nbsp;&nbsp;&nbsp;&nbsp;- evalWithFormat:</option>
	
	<option value="//api/name/loadFunctionWithName:params:body:">&nbsp;&nbsp;&nbsp;&nbsp;- loadFunctionWithName:params:body:</option>
	
	<option value="//api/name/shutDown">&nbsp;&nbsp;&nbsp;&nbsp;- shutDown</option>
	
	<option value="//api/name/waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:">&nbsp;&nbsp;&nbsp;&nbsp;- waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:</option>
	
	<option value="//api/name/waitUntilTrue:retryDelay:timeout:">&nbsp;&nbsp;&nbsp;&nbsp;- waitUntilTrue:retryDelay:timeout:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Getting the Shared Terminal">Getting the Shared Terminal</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Evaluating JavaScript">Evaluating JavaScript</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Debugging Subliminal">Debugging Subliminal</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Internal Methods">Internal Methods</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Evaluating Functions">Evaluating Functions</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Waiting on Boolean Expressions and Functions">Waiting on Boolean Expressions and Functions</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/evalQueue">evalQueue</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/scriptLoggingEnabled">scriptLoggingEnabled</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/scriptNamespace">scriptNamespace</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sharedTerminal">sharedTerminal</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/currentQueueIsEvalQueue">currentQueueIsEvalQueue</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/eval:">eval:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/evalFunctionWithName:params:body:withArgs:">evalFunctionWithName:params:body:withArgs:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/evalFunctionWithName:withArgs:">evalFunctionWithName:withArgs:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/evalWithFormat:">evalWithFormat:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/loadFunctionWithName:params:body:">loadFunctionWithName:params:body:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/shutDown">shutDown</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:">waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/waitUntilTrue:retryDelay:timeout:">waitUntilTrue:retryDelay:timeout:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="SLTerminal Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">SLTerminal Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">SLTerminal.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The singleton <code>SLTerminal</code> instance communicates with the Automation instrument
in order to evaluate arbitrary JavaScript, in particular scripts which
call APIs defined by the UIAutomation JavaScript framework.</p>

<p>The methods in the <code>SLTerminal (DebugSettings)</code> category may be useful
in debugging Subliminal. They may not be of much use in debugging
tests because tests don&rsquo;t use the terminal directly.</p>

<p>The methods in the <code>SLTerminal (Internal)</code> category are to be used
only within Subliminal.</p>

<p>The <code>SLTerminal (ConvenienceFunctions)</code> category defines APIs that structure
the definition and evaluation of JavaScript functions.</p>

<p>It is oftentimes more readable and efficient to evaluate some bit of JavaScript
by defining a generic function and then calling it with specific arguments,
rather than formatting and evaluating a long block of statements each time.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Getting the Shared Terminal" name="task_Getting the Shared Terminal"></a>
						<h3 class="subsubtitle task-title">Getting the Shared Terminal</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/sharedTerminal">+&nbsp;sharedTerminal</a></code>
		<span class="tooltip"><p>Returns the terminal.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Evaluating JavaScript" name="task_Evaluating JavaScript"></a>
						<h3 class="subsubtitle task-title">Evaluating JavaScript</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/eval:">&ndash;&nbsp;eval:</a></code>
		<span class="tooltip"><p>Evaluates the specified JavaScript script within UIAutomation and returns the
result as an Objective-C object.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/evalWithFormat:">&ndash;&nbsp;evalWithFormat:</a></code>
		<span class="tooltip"><p>Evaluates the specified JavaScript script after substituting the specified argument
variables into the script.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Debugging Subliminal" name="task_Debugging Subliminal"></a>
						<h3 class="subsubtitle task-title">Debugging Subliminal</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/scriptLoggingEnabled">&nbsp;&nbsp;scriptLoggingEnabled</a></code>
		<span class="tooltip"><p>Determines whether the terminal will log scripts as it evaluates them.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Internal Methods" name="task_Internal Methods"></a>
						<h3 class="subsubtitle task-title">Internal Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/scriptNamespace">&nbsp;&nbsp;scriptNamespace</a></code>
		<span class="tooltip"><p>The namespace (in <code>SLTerminal.js</code>) in which the <code>SLTerminal</code> defines variables.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/evalQueue">&nbsp;&nbsp;evalQueue</a></code>
		<span class="tooltip"><p>The serial queue on which the receiver evaluates all JavaScript.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/currentQueueIsEvalQueue">&ndash;&nbsp;currentQueueIsEvalQueue</a></code>
		<span class="tooltip"><p>Whether or not the current queue is the <a href="#//api/name/evalQueue"><code>evalQueue</code></a>.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/shutDown">&ndash;&nbsp;shutDown</a></code>
		<span class="tooltip"><p>Causes <code>SLTerminal.js</code> to finish evaluating commands.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Evaluating Functions" name="task_Evaluating Functions"></a>
						<h3 class="subsubtitle task-title">Evaluating Functions</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/loadFunctionWithName:params:body:">&ndash;&nbsp;loadFunctionWithName:params:body:</a></code>
		<span class="tooltip"><p>Adds the JavaScript function with the specified description to the terminal&rsquo;s
namespace.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/evalFunctionWithName:withArgs:">&ndash;&nbsp;evalFunctionWithName:withArgs:</a></code>
		<span class="tooltip"><p>Evaluates a JavaScript function existing in the terminal&rsquo;s namespace
with the given arguments and returns the result, if any.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/evalFunctionWithName:params:body:withArgs:">&ndash;&nbsp;evalFunctionWithName:params:body:withArgs:</a></code>
		<span class="tooltip"><p>Adds the JavaScript function with the specified description to the terminal&rsquo;s
namespace, if necessary; evaluates it with the given arguments; and returns
the result, if any.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Waiting on Boolean Expressions and Functions" name="task_Waiting on Boolean Expressions and Functions"></a>
						<h3 class="subsubtitle task-title">Waiting on Boolean Expressions and Functions</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/waitUntilTrue:retryDelay:timeout:">&ndash;&nbsp;waitUntilTrue:retryDelay:timeout:</a></code>
		<span class="tooltip"><p>Waits for an arbitrary JavaScript expression to evaluate to true
within a specified timeout.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:">&ndash;&nbsp;waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:</a></code>
		<span class="tooltip"><p>Waits for a JavaScript function existing in the terminal&rsquo;s namespace
to evaluate to true, given the specified arguments, within a specified timeout.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/evalQueue" title="evalQueue"></a>
	<h3 class="subsubtitle method-title">evalQueue</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The serial queue on which the receiver evaluates all JavaScript.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly) dispatch_queue_t evalQueue</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/scriptLoggingEnabled" title="scriptLoggingEnabled"></a>
	<h3 class="subsubtitle method-title">scriptLoggingEnabled</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Determines whether the terminal will log scripts as it evaluates them.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) BOOL scriptLoggingEnabled</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If YES, the terminal will log each script before evaluating it.
This allows developers to understand exactly what UIAutomation is doing
when a given Subliminal API is invoked.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/scriptNamespace" title="scriptNamespace"></a>
	<h3 class="subsubtitle method-title">scriptNamespace</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The namespace (in <code>SLTerminal.js</code>) in which the <code>SLTerminal</code> defines variables.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly) NSString *scriptNamespace</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/sharedTerminal" title="sharedTerminal"></a>
	<h3 class="subsubtitle method-title">sharedTerminal</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns the terminal.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (SLTerminal *)sharedTerminal</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The shared <code>SLTerminal</code> instance.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/currentQueueIsEvalQueue" title="currentQueueIsEvalQueue"></a>
	<h3 class="subsubtitle method-title">currentQueueIsEvalQueue</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Whether or not the current queue is the <a href="#//api/name/evalQueue"><code>evalQueue</code></a>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)currentQueueIsEvalQueue</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>Whether or not the current queue is the <a href="#//api/name/evalQueue"><code>evalQueue</code></a>.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>To avoid deadlocks, use this method to check if you&rsquo;re on the <a href="#//api/name/evalQueue"><code>evalQueue</code></a> before <code>dispatch_sync</code>ing a block to it.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/eval:" title="eval:"></a>
	<h3 class="subsubtitle method-title">eval:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Evaluates the specified JavaScript script within UIAutomation and returns the
result as an Objective-C object.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)eval:(NSString *)<em>script</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>script</em></dt>
			<dd><p>The script to evaluate. May be a JavaScript expression, statement,
or sequence of statements. This value must not be <code>nil</code>.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The value of the last expression evaluated, as an Objective-C object:</p>

<ul>
<li>If the value is of type <code>"string"</code>, <code>-eval:</code> will return an <code>NSString *</code>
that is equal to the value.</li>
<li>If the value is of type <code>"boolean"</code>, <code>-eval:</code> will return an <code>NSNumber *</code> whose
<code>-boolValue</code> is equal to the value.</li>
<li>If the value is of type <code>"number"</code>, <code>-eval:</code> will return an <code>NSNumber *</code> whose
primitive value (using an accessor appropriate to the value&rsquo;s format) is equal
to the value.</li>
<li>Otherwise, <code>-eval:</code> will return <code>nil</code>.</li>
</ul>

	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The evaluation is done using <code>eval()</code>.</p>

<p>This method blocks until the script has been evaluated, and so must not be called
from the main thread.</p>
	</div>
	
	
	
	<div class="method-subsection arguments-section exceptions">
		<h4 class="method-subtitle exception-title">Exceptions</h4>
		
		<dl class="argument-def exception-def">
			<dt><em>NSInvalidArgumentException</em></dt>
			<dd><p>Thrown if <code>script</code> is <code>nil</code>.</p></dd>
		</dl>
		
		<dl class="argument-def exception-def">
			<dt><em>NSInternalInconsistencyException</em></dt>
			<dd><p>Thrown if this method is called
from the main thread.</p></dd>
		</dl>
		
		<dl class="argument-def exception-def">
			<dt><em>SLTerminalJavaScriptException</em></dt>
			<dd><p>Thrown if the script could not be
evaluated, or if the script threw an exception when evaluated.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/evalFunctionWithName:params:body:withArgs:" title="evalFunctionWithName:params:body:withArgs:"></a>
	<h3 class="subsubtitle method-title">evalFunctionWithName:params:body:withArgs:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Adds the JavaScript function with the specified description to the terminal&rsquo;s
namespace, if necessary; evaluates it with the given arguments; and returns
the result, if any.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSString *)evalFunctionWithName:(NSString *)<em>name</em> params:(NSArray *)<em>params</em> body:(NSString *)<em>body</em> withArgs:(NSArray *)<em>args</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>name</em></dt>
			<dd><p>The name of the function to add to the terminal&rsquo;s namespace, if necessary.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>params</em></dt>
			<dd><p>The string names of the parameters of the function.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>body</em></dt>
			<dd><p>The body of the function: one or more statements, with no function closure.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>args</em></dt>
			<dd><p>The arguments to the function, as strings.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The result of evaluating the specified function, or <code>nil</code> if the function
does not return a value.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This is a convenience wrapper for the other methods in this section.
An invocation of this method like</p>

<pre><code>NSString *result = [[SLTerminal sharedTerminal] evalFunctionWithName:@"SLAddTwoNumbers"
                                                              params:@[ @"one", @"two" ]
                                                                body:@"return one + two;"];
                                                            withArgs:@[ @"5", @"7" ]];
</code></pre>

<p>is equivalent to calling</p>

<pre><code>[[SLTerminal sharedTerminal] loadFunctionWithName:@"SLAddTwoNumbers"
                                           params:@[ @"one", @"two" ]
                                             body:@"return one + two;"];
NSString *result = [[SLTerminal sharedTerminal] evalFunctionWithName:@"SLAddTwoNumbers"
                                                            withArgs:@[ @"5", @"7" ]];
</code></pre>
	</div>
	
	
	
	<div class="method-subsection arguments-section exceptions">
		<h4 class="method-subtitle exception-title">Exceptions</h4>
		
		<dl class="argument-def exception-def">
			<dt><em>NSInternalInconsistencyException</em></dt>
			<dd><p>Thrown if a function with the
specified description has previously been loaded with different parameters
and/or body.</p></dd>
		</dl>
		
		<dl class="argument-def exception-def">
			<dt><em>SLTerminalJavascriptException</em></dt>
			<dd><p>Thrown if the function name, params,
or body cannot be evaluated when the function is added to the terminal&rsquo;s namespace,
or if an exception occurs when evaluating the function.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/loadFunctionWithName:params:body:">&ndash; loadFunctionWithName:params:body:</a></p></code></li>
			
			<li><code><p><a href="#//api/name/evalFunctionWithName:withArgs:">&ndash; evalFunctionWithName:withArgs:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal+ConvenienceFunctions.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/evalFunctionWithName:withArgs:" title="evalFunctionWithName:withArgs:"></a>
	<h3 class="subsubtitle method-title">evalFunctionWithName:withArgs:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Evaluates a JavaScript function existing in the terminal&rsquo;s namespace
with the given arguments and returns the result, if any.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSString *)evalFunctionWithName:(NSString *)<em>name</em> withArgs:(NSArray *)<em>args</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>name</em></dt>
			<dd><p>The name of a function previously added to the terminal&rsquo;s namespace.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>args</em></dt>
			<dd><p>The arguments to the function, as strings.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The result of evaluating the specified function, or <code>nil</code> if the function
does not return a value.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A function like</p>

<pre><code>function SLAddTwoNumbers(one, two) {
    return one + two;
}
</code></pre>

<p>would be evaluated with the arguments <code>5, 7</code> by calling this method as follows:</p>

<pre><code>NSString *result = [[SLTerminal sharedTerminal] evalFunctionWithName:@"SLAddTwoNumbers"
                                                            withArgs:@[ @"5", @"7" ]];
</code></pre>

<p>After evaluation, <code>result</code> would contain <code>@"12"</code>.</p>
	</div>
	
	
	
	<div class="method-subsection arguments-section exceptions">
		<h4 class="method-subtitle exception-title">Exceptions</h4>
		
		<dl class="argument-def exception-def">
			<dt><em>NSInternalInconsistencyException</em></dt>
			<dd><p>Thrown if a function with the
specified name has not previously been loaded.</p></dd>
		</dl>
		
		<dl class="argument-def exception-def">
			<dt><em>SLTerminalJavascriptException</em></dt>
			<dd><p>Thrown if an exception occurs when
evaluating the function.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/loadFunctionWithName:params:body:">&ndash; loadFunctionWithName:params:body:</a></p></code></li>
			
			<li><code><p><a href="#//api/name/evalFunctionWithName:params:body:withArgs:">&ndash; evalFunctionWithName:params:body:withArgs:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal+ConvenienceFunctions.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/evalWithFormat:" title="evalWithFormat:"></a>
	<h3 class="subsubtitle method-title">evalWithFormat:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Evaluates the specified JavaScript script after substituting the specified argument
variables into the script.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)evalWithFormat:(NSString *)<em>script</em>, <em>...</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>script</em></dt>
			<dd><p>A format string (in the manner of <code>[NSString stringWithFormat:]</code>)
to be evaluated as JavaScript after formatting. This value must not be <code>nil</code>.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>...</em></dt>
			<dd><p>(Optional) A comma-separated list of arguments to substitute into <code>script</code>.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The value of the last expression evaluated, as an Objective-C object.
See <a href="#//api/name/eval:"><code>eval:</code></a> for more information.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method is a wrapper around <a href="#//api/name/eval:"><code>eval:</code></a>: see that method for further discussion.</p><div class="warning"><p><strong>Warning:</strong> Variable arguments that are strings need to be escaped,
using <code>[NSString slStringByEscapingForJavaScriptLiteral]</code>,
if they are to be substituted into a JavaScript string literal.</p></div>
	</div>
	
	
	
	<div class="method-subsection arguments-section exceptions">
		<h4 class="method-subtitle exception-title">Exceptions</h4>
		
		<dl class="argument-def exception-def">
			<dt><em>NSInvalidArgumentException</em></dt>
			<dd><p>Thrown if <code>script</code> is <code>nil</code>.</p></dd>
		</dl>
		
		<dl class="argument-def exception-def">
			<dt><em>NSInternalInconsistencyException</em></dt>
			<dd><p>Thrown if this method is called
from the main thread.</p></dd>
		</dl>
		
		<dl class="argument-def exception-def">
			<dt><em>SLTerminalJavaScriptException</em></dt>
			<dd><p>Thrown if the script could not be
evaluated, or if the script threw an exception when evaluated.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/loadFunctionWithName:params:body:" title="loadFunctionWithName:params:body:"></a>
	<h3 class="subsubtitle method-title">loadFunctionWithName:params:body:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Adds the JavaScript function with the specified description to the terminal&rsquo;s
namespace.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)loadFunctionWithName:(NSString *)<em>name</em> params:(NSArray *)<em>params</em> body:(NSString *)<em>body</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>name</em></dt>
			<dd><p>The name of the function.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>params</em></dt>
			<dd><p>The string names of the parameters of the function.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>body</em></dt>
			<dd><p>The body of the function: one or more statements, with no function
closure.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method provides an idempotent, structured API for defining new functions.</p>

<p>A function like</p>

<pre><code>function SLAddTwoNumbers(one, two) {
    return one + two;
}
</code></pre>

<p>would be added by calling this method as follows:</p>

<pre><code>[[SLTerminal sharedTerminal] loadFunctionWithName:@"SLAddTwoNumbers"
                                           params:@[ @"one", @"two" ]
                                             body:@"return one + two;"];
</code></pre>

<p>Developers should prefix their functions' names to avoid collisions with
functions defined by Subliminal. Subliminal reserves the &ldquo;SL&rdquo; prefix.</p>
	</div>
	
	
	
	<div class="method-subsection arguments-section exceptions">
		<h4 class="method-subtitle exception-title">Exceptions</h4>
		
		<dl class="argument-def exception-def">
			<dt><em>NSInternalInconsistencyException</em></dt>
			<dd><p>Thrown if a function with the
specified description has previously been loaded with different parameters
and/or body.</p></dd>
		</dl>
		
		<dl class="argument-def exception-def">
			<dt><em>SLTerminalJavascriptException</em></dt>
			<dd><p>Thrown if the function name, params,
or body cannot be evaluated.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/evalFunctionWithName:withArgs:">&ndash; evalFunctionWithName:withArgs:</a></p></code></li>
			
			<li><code><p><a href="#//api/name/evalFunctionWithName:params:body:withArgs:">&ndash; evalFunctionWithName:params:body:withArgs:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal+ConvenienceFunctions.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/shutDown" title="shutDown"></a>
	<h3 class="subsubtitle method-title">shutDown</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Causes <code>SLTerminal.js</code> to finish evaluating commands.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)shutDown</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The terminal starts up automatically when the UIAutomation instrument is attached
and evaluating <code>SLTerminal.js</code>. <code>SLTerminal.js</code> then evaluates commands (scripts)
sent through this terminal until this method is called, at which point
<code>SLTerminal.js</code> will exit, and UIAutomation will terminate the application.</p>

<p>This method is called by the shared test controller when testing has finished.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:" title="waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:"></a>
	<h3 class="subsubtitle method-title">waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Waits for a JavaScript function existing in the terminal&rsquo;s namespace
to evaluate to true, given the specified arguments, within a specified timeout.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)waitUntilFunctionWithNameIsTrue:(NSString *)<em>name</em> whenEvaluatedWithArgs:(NSArray *)<em>args</em> retryDelay:(NSTimeInterval)<em>retryDelay</em> timeout:(NSTimeInterval)<em>timeout</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>name</em></dt>
			<dd><p>The name of a function previously added to the terminal&rsquo;s namespace.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>args</em></dt>
			<dd><p>The arguments to the function, as strings.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>retryDelay</em></dt>
			<dd><p>The interval at which to re-evaluate the function.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>timeout</em></dt>
			<dd><p>The interval for which to wait.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p><code>YES</code> if and when the function evaluates to true within the timeout;
otherwise, <code>NO</code>.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This is a wrapper around <a href="#//api/name/waitUntilTrue:retryDelay:timeout:"><code>waitUntilTrue:retryDelay:timeout:</code></a> where <code>condition</code>
is a call to the specified function with the given arguments.</p>
	</div>
	
	
	
	<div class="method-subsection arguments-section exceptions">
		<h4 class="method-subtitle exception-title">Exceptions</h4>
		
		<dl class="argument-def exception-def">
			<dt><em>NSInternalInconsistencyException</em></dt>
			<dd><p>Thrown if a function with the
specified name has not previously been loaded.</p></dd>
		</dl>
		
		<dl class="argument-def exception-def">
			<dt><em>SLTerminalJavascriptException</em></dt>
			<dd><p>Thrown if an exception occurs when
evaluating the function.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal+ConvenienceFunctions.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/waitUntilTrue:retryDelay:timeout:" title="waitUntilTrue:retryDelay:timeout:"></a>
	<h3 class="subsubtitle method-title">waitUntilTrue:retryDelay:timeout:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Waits for an arbitrary JavaScript expression to evaluate to true
within a specified timeout.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)waitUntilTrue:(NSString *)<em>condition</em> retryDelay:(NSTimeInterval)<em>retryDelay</em> timeout:(NSTimeInterval)<em>timeout</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>condition</em></dt>
			<dd><p>A boolean expression in JavaScript, on whose truth the method
should wait.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>retryDelay</em></dt>
			<dd><p>The interval at which to re-evaluate condition.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>timeout</em></dt>
			<dd><p>The interval for which to wait.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p><code>YES</code> if and when the expression evaluates to true within the timeout;
otherwise, <code>NO</code>.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method is designed to wait efficiently by performing the waiting/re-evaluation
entirely within UIAutomation&rsquo;s (JavaScript) context.</p>

<p>The expression will be re-evaluated at small intervals.
If and when the expression evaluates to true, the method will immediately return
<code>YES</code>; if the expression is still false at the end of the timeout, this method
will return <code>NO</code>.</p><div class="warning"><p><strong>Warning:</strong> This method does not itself throw an exception if the condition fails
to become true within the timeout. Rather, the caller should throw a suitably
specific exception if this method returns <code>NO</code>.</p></div>
	</div>
	
	
	
	<div class="method-subsection arguments-section exceptions">
		<h4 class="method-subtitle exception-title">Exceptions</h4>
		
		<dl class="argument-def exception-def">
			<dt><em>SLTerminalJavascriptException</em></dt>
			<dd><p>Thrown if condition cannot be evaluated.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:">&ndash; waitUntilFunctionWithNameIsTrue:whenEvaluatedWithArgs:retryDelay:timeout:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SLTerminal+ConvenienceFunctions.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2014 Inkling. All rights reserved. (Last updated: 2014-04-30)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 840)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>